{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/register.js","webpack:///./src/login.js","webpack:///./src/app.js","webpack:///./src/router.js","webpack:///./src/shortservice.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","_login","Register","isRegistered","_classCallCheck","this","login","Login","checkLogin","_this","button","document","querySelector","loginArray","fetch","headers","Content-Type","then","res","json","data","forEach","push","addEventListener","e","preventDefault","some","repeatLogin","checkPassword","renderErrorSection","password","passwordRepeat","sendRegistration","failedRegistration","renderExitButton","localStorage","setItem","method","body","JSON","stringify","status","console","log","event","Event","window","dispatchEvent","textMessage","errorSection","errorSectionText","style","innerHTML","setTimeout","checkingLogin","exit","exitButton","account","classList","add","exitEvent","accountEvent","linkContainer","isLogged","clear","remove","loginButton","logpageLogin","_this2","location","hash","_router","_register","_shortservice","App","pages","querySelectorAll","renderHomePage","checkRegister","renderAccountPage","router","Router","register","shortService","ShortService","init","regBut","logBut","localStorageService","links","initRoutes","HashChangeEvent","array","loginName","getItem","loginLinkArray","renderPageLogin","span","createElement","accountPage","link","appendChild","addRoute","renderAboutPage","renderMainPage","renderLoginPage","renderErrorPage","getRepeatLogin","errorPage","backLink","toggle","accountButton","_this3","history","pushState","_this4","routes","404","mainContentPages","render","decodeURI","route","action","url","temp","split","concat","_toConsumableArray","page","shortLinks","inp","getLink","register2","sendData","renderInputError","text","shortLink","sendLink","renderLinks","div","container","span1","span2","span3","setAttribute"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","import { Login } from \"./login\";\r\n\r\nexport class Register {\r\n  constructor(isRegistered) {\r\n    this.login = new Login();\r\n    this.isRegistered = isRegistered;\r\n    this.checkLogin();\r\n  }\r\n\r\n  checkLogin() {\r\n    let button = document.querySelector(\".registration-submit\");\r\n    let login = document.querySelector(\".registration-login\");\r\n    let loginArray = [];\r\n    fetch(\"http://localhost:3007/users\", {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      }\r\n    })\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        data.forEach(i => {\r\n          loginArray.push(i.login);\r\n        });\r\n      });\r\n\r\n    button.addEventListener(\"click\", e => {\r\n      e.preventDefault();\r\n      if (login.value) {\r\n        let repeat = loginArray.some(i => {\r\n          return i == login.value;\r\n        });\r\n        repeat ? this.repeatLogin() : this.checkPassword(login.value);\r\n      } else {\r\n        this.renderErrorSection(\"Поле с логином пустое. Введите логин\");\r\n      }\r\n    });\r\n  }\r\n\r\n  checkPassword(login) {\r\n    let password = document.querySelector(\".registration-password\");\r\n    let passwordRepeat = document.querySelector(\".registration-password-check\");\r\n    let loginField = document.querySelector(\".registration-login\");\r\n    if (password.value && passwordRepeat.value) {\r\n      password.value == passwordRepeat.value\r\n        ? this.sendRegistration(login, password.value)\r\n        : this.failedRegistration(passwordRepeat);\r\n    } else {\r\n      this.renderErrorSection(\"Поля с паролем не заполнены\");\r\n    }\r\n  }\r\n\r\n  repeatLogin() {\r\n    this.renderErrorSection(\"Такой логин уже существует. Введите другой\");\r\n  }\r\n\r\n  sendRegistration(login, password) {\r\n    this.login.renderExitButton();\r\n    localStorage.setItem(\"login\", login);\r\n    fetch(\"http://localhost:3007/users\", {\r\n      method: \"post\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify({\r\n        login: login,\r\n        password: password\r\n      })\r\n    })\r\n      .then(res => {\r\n        if (res.status !== 201) {\r\n          console.log(\"Post ERROR\");\r\n        }\r\n        return res.json();\r\n      })\r\n      .then(res => {\r\n        console.log(res);\r\n      });\r\n    this.isRegistered = true;\r\n\r\n    let event = new Event(\"checkRegister\");\r\n    window.dispatchEvent(event);\r\n  }\r\n\r\n  failedRegistration(data) {\r\n    this.renderErrorSection(\"Пароли не совпадают. Попробуйте еще\");\r\n  }\r\n\r\n  renderErrorSection(textMessage) {\r\n    let errorSection = document.querySelector(\".error-section\");\r\n    let errorSectionText = document.querySelector(\".error-section-text\");\r\n    errorSection.style = \"opacity: 1\";\r\n    errorSectionText.innerHTML = textMessage;\r\n    setTimeout(() => {\r\n      let errorSection = document.querySelector(\".error-section\");\r\n      errorSection.style = \"opacity: 0\";\r\n    }, 2000);\r\n  }\r\n}\r\n","export class Login {\r\n  constructor() {\r\n    this.checkingLogin();\r\n  }\r\n\r\n  renderExitButton() {\r\n    let exit = document.querySelector(\".exit\");\r\n    let exitButton = document.querySelector(\".exit-button\");\r\n    let account = document.querySelector(\".account-button\");\r\n    exit.classList.add(\"visible\");\r\n    exitButton.addEventListener(\"click\", this.exitEvent);\r\n    account.addEventListener(\"click\", this.accountEvent);\r\n  }\r\n\r\n  exitEvent() {\r\n    let linkContainer = document.querySelector(\".result\");\r\n    this.isLogged = false;\r\n    localStorage.clear();\r\n    let exit = document.querySelector(\".exit\");\r\n    exit.classList.remove(\"visible\");\r\n    let exitEvent = new Event(\"exitEvent\");\r\n    window.dispatchEvent(exitEvent);\r\n    linkContainer.innerHTML = \"\";\r\n  }\r\n\r\n  accountEvent() {\r\n    let accountEvent = new Event(\"accountEvent\");\r\n    window.dispatchEvent(accountEvent);\r\n  }\r\n\r\n  getLogin() {\r\n    let loginButton = document.querySelector(\".logpage-submit\");\r\n    let logpageLogin = document.querySelector(\".logpage-login\");\r\n    let logpagePassword = document.querySelector(\".logpage-password\");\r\n    loginButton.addEventListener(\"click\", e => {\r\n      e.preventDefault();\r\n      if (logpageLogin.value) {\r\n        this.checkingLogin();\r\n      } else {\r\n      }\r\n    });\r\n  }\r\n\r\n  checkingLogin() {\r\n    let button = document.querySelector(\".logpage-submit\");\r\n    let login = document.querySelector(\".logpage-login\");\r\n    let password = document.querySelector(\".logpage-password\");\r\n    let loginArray = [];\r\n    fetch(\"http://localhost:3007/users\", {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      }\r\n    })\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        data.forEach(i => {\r\n          loginArray.push(i);\r\n        });\r\n      });\r\n\r\n    button.addEventListener(\"click\", e => {\r\n      e.preventDefault();\r\n      if (login.value && password.value) {\r\n        loginArray.forEach(i => {\r\n          if (i.login === login.value && i.password === password.value) {\r\n            window.location.hash = \"#main\";\r\n            localStorage.setItem(\"login\", login.value);\r\n            this.renderExitButton();\r\n          } else {\r\n            // this.renderErrorSection(\r\n            //   \"Проверьте введенные данные. Логин или пароль неверные.\"\r\n            // );\r\n            return false;\r\n          }\r\n        });\r\n      } else {\r\n        this.renderErrorSection(\"Поля не заполнены полностью\");\r\n      }\r\n    });\r\n  }\r\n\r\n  renderErrorSection(textMessage) {\r\n    let errorSection = document.querySelector(\".error-section\");\r\n    let errorSectionText = document.querySelector(\".error-section-text\");\r\n    errorSection.style = \"opacity: 1\";\r\n    errorSectionText.innerHTML = textMessage;\r\n    setTimeout(() => {\r\n      let errorSection = document.querySelector(\".error-section\");\r\n      errorSection.style = \"opacity: 0\";\r\n    }, 2000);\r\n  }\r\n}\r\n","import { Router } from \"./router\";\r\nimport { Register } from \"./register\";\r\nimport { Login } from \"./login\";\r\nimport { ShortService } from \"./shortservice\";\r\n\r\nclass App {\r\n  constructor() {\r\n    this.pages = document.querySelectorAll(\".page\");\r\n    window.addEventListener(\"exitEvent\", this.renderHomePage.bind(this));\r\n    window.addEventListener(\"checkRegister\", this.checkRegister.bind(this));\r\n    window.addEventListener(\"accountEvent\", this.renderAccountPage.bind(this));\r\n    this.router = new Router();\r\n    this.register = new Register();\r\n    this.login = new Login();\r\n    this.shortService = new ShortService();\r\n    this.init();\r\n    this.login.checkingLogin();\r\n    this.regBut();\r\n    this.logBut();\r\n    this.localStorageService();\r\n    this.login.checkingLogin();\r\n  }\r\n\r\n  init() {\r\n    const url = \"http://localhost:3007/links\";\r\n    fetch(url, {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      }\r\n    })\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        this.links = data;\r\n        this.initRoutes();\r\n        window.dispatchEvent(new HashChangeEvent(\"hashchange\"));\r\n      });\r\n  }\r\n\r\n  getRepeatLogin(array) {\r\n    let loginName = localStorage.getItem(\"login\");\r\n    let loginLinkArray = [];\r\n    array.forEach(i => {\r\n      if (i.login === loginName) {\r\n        loginLinkArray.push(i);\r\n      }\r\n    });\r\n\r\n    this.renderPageLogin(loginLinkArray);\r\n    console.log(loginLinkArray);\r\n    console.log(loginName);\r\n  }\r\n\r\n  renderPageLogin(data) {\r\n    data.forEach(i => {\r\n      let span = document.createElement(\"span\");\r\n      let accountPage = document.querySelector(\".account-page\");\r\n      span.innerHTML = `Архив ссылок пользователя ${i.login}. - ${i.link} <br>`;\r\n      accountPage.appendChild(span);\r\n    });\r\n  }\r\n\r\n  initRoutes() {\r\n    this.router.addRoute(\"\", this.renderHomePage.bind(this));\r\n    this.router.addRoute(\"#about\", this.renderAboutPage.bind(this));\r\n    this.router.addRoute(\"#main\", this.renderMainPage.bind(this));\r\n    this.router.addRoute(\"#login\", this.renderLoginPage.bind(this));\r\n    this.router.addRoute(\"404\", this.renderErrorPage.bind(this));\r\n    this.router.addRoute(\"#account\", this.renderAccountPage.bind(this));\r\n  }\r\n\r\n  renderHomePage() {\r\n    this.pages.forEach(i => {\r\n      i.classList.remove(\"visible\");\r\n    });\r\n    let homePage = document.querySelector(\".home\");\r\n    homePage.classList.add(\"visible\");\r\n    window.location.hash = \"\";\r\n    let exit = document.querySelector(\".exit\");\r\n    exit.classList.remove(\"visible\");\r\n  }\r\n\r\n  renderAboutPage() {\r\n    this.pages.forEach(i => {\r\n      i.classList.remove(\"visible\");\r\n    });\r\n    let aboutPage = document.querySelector(\".about\");\r\n    aboutPage.classList.add(\"visible\");\r\n    window.location.hash = \"#about\";\r\n    let exit = document.querySelector(\".exit\");\r\n    exit.classList.remove(\"visible\");\r\n  }\r\n\r\n  renderMainPage() {\r\n    if (localStorage.getItem(\"login\")) {\r\n      this.pages.forEach(i => {\r\n        i.classList.remove(\"visible\");\r\n        this.getRepeatLogin(this.links);\r\n      });\r\n      let mainPage = document.querySelector(\".main\");\r\n      mainPage.classList.add(\"visible\");\r\n      window.location.hash = \"#main\";\r\n    } else {\r\n      this.renderErrorPage();\r\n    }\r\n  }\r\n\r\n  renderErrorPage() {\r\n    this.pages.forEach(i => {\r\n      i.classList.remove(\"visible\");\r\n    });\r\n    let exit = document.querySelector(\".exit\");\r\n    let errorPage = document.querySelector(\".error\");\r\n    let backLink = document.querySelector(\".main-link\");\r\n    errorPage.classList.add(\"visible\");\r\n    window.location.hash = \"#error\";\r\n    exit.classList.remove(\"visible\");\r\n    backLink.addEventListener(\"click\", this.renderHomePage.bind(this));\r\n  }\r\n\r\n  renderLoginPage() {\r\n    this.pages.forEach(i => {\r\n      i.classList.remove(\"visible\");\r\n    });\r\n    let loginPage = document.querySelector(\".logpage\");\r\n    loginPage.classList.add(\"visible\");\r\n    window.location.hash = \"#login\";\r\n    let exit = document.querySelector(\".exit\");\r\n    exit.classList.remove(\"visible\");\r\n  }\r\n\r\n  renderAccountPage() {\r\n    this.pages.forEach(i => {\r\n      i.classList.remove(\"visible\");\r\n    });\r\n    let accountPage = document.querySelector(\".account\");\r\n    accountPage.classList.toggle(\"visible\");\r\n    window.location.hash = \"#account\";\r\n    let accountButton = document.querySelector(\".account-button\");\r\n    accountButton.style = \"display: none\";\r\n    let accountExit = document.querySelector(\".account-exit-button\");\r\n    accountExit.addEventListener(\"click\", e => {\r\n      window.location.hash = \"#main\";\r\n      accountPage.classList.remove(\"visible\");\r\n      accountButton.style = \"display: block\";\r\n    });\r\n  }\r\n\r\n  regBut() {\r\n    let reg = document.querySelector(\".registration\");\r\n    reg.addEventListener(\"click\", () => {\r\n      this.renderAboutPage();\r\n      history.pushState({}, \"about\", \"#about\");\r\n      window.dispatchEvent(new HashChangeEvent(\"hashchange\"));\r\n    });\r\n  }\r\n\r\n  logBut() {\r\n    let log = document.querySelector(\".login\");\r\n    log.addEventListener(\"click\", () => {\r\n      this.renderMainPage();\r\n      history.pushState({}, \"main\", \"#login\");\r\n      window.dispatchEvent(new HashChangeEvent(\"hashchange\"));\r\n    });\r\n  }\r\n\r\n  checkRegister() {\r\n    if (this.register.isRegistered) {\r\n      this.renderMainPage();\r\n    } else {\r\n      console.log(\"Ошибка регистрации\");\r\n    }\r\n  }\r\n\r\n  localStorageService() {\r\n    if (localStorage.getItem(\"login\")) {\r\n      this.login.renderExitButton();\r\n    } else {\r\n    }\r\n  }\r\n}\r\n\r\nconst app = new App();\r\n","export class Router {\r\n  constructor() {\r\n    this.routes = {\r\n      \"404\": () => {\r\n        console.log(\"Not found\");\r\n      }\r\n    };\r\n    this.mainContentPages = document.querySelectorAll(\".page\");\r\n\r\n    window.addEventListener(\"hashchange\", e => {\r\n      this.render(decodeURI(window.location.hash));\r\n    });\r\n  }\r\n\r\n  addRoute(route, action) {\r\n    this.routes[route] = action;\r\n  }\r\n\r\n  render(url) {\r\n    let temp = url.split(\"/\")[0];\r\n    [...this.mainContentPages].forEach(page => {\r\n      page.classList.remove(\"visible\");\r\n    });\r\n\r\n    this.routes[temp] ? this.routes[temp]() : this.routes[\"404\"]();\r\n  }\r\n}\r\n","import { Register } from \"./register\";\r\n\r\nexport class ShortService {\r\n  constructor() {\r\n    this.shortLinks = [];\r\n    this.inp = document.querySelector(\".big-link\");\r\n    this.links = [];\r\n    this.getLink();\r\n    this.register2 = new Register();\r\n  }\r\n\r\n  getLink() {\r\n    let but = document.querySelector(\".submit\");\r\n\r\n    but.addEventListener(\"click\", e => {\r\n      e.preventDefault();\r\n      if (this.inp.value) {\r\n        this.sendData(this.inp.value);\r\n      } else {\r\n        this.renderInputError();\r\n      }\r\n    });\r\n  }\r\n\r\n  renderInputError() {\r\n    this.register2.renderErrorSection(\r\n      \"Чтобы укоротить ссылку, ее надо сначала ввести.\"\r\n    );\r\n  }\r\n\r\n  sendData(data) {\r\n    console.log(data);\r\n    fetch(`https://clck.ru/--?url=${data}`, {\r\n      method: \"get\"\r\n      // headers: {\r\n      //   \"Content-Type\": \"application/json\"\r\n      // },\r\n      // body: JSON.stringify({\r\n      //   source: data\r\n      // })\r\n    }).then(res => {\r\n      if (res.status !== 201) {\r\n        res.text().then(data => {\r\n          this.shortLink(data);\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  shortLink(data) {\r\n    this.sendLink(data);\r\n    let shortLink = data;\r\n    this.shortLinks.push(shortLink);\r\n    this.renderLinks(shortLink);\r\n    \r\n  }\r\n\r\n  sendLink(data) {\r\n    fetch(\"http://localhost:3007/links\", {\r\n      method: \"post\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify({\r\n        link: data,\r\n        login: localStorage.getItem(\"login\")\r\n      })\r\n    })\r\n      .then(res => {\r\n        if (res.status !== 201) {\r\n          console.log(\"Post ERROR\");\r\n        }\r\n        return res.json();\r\n      })\r\n      .then(res => {\r\n        console.log(res);\r\n      });\r\n  }\r\n\r\n  renderLinks(data) {\r\n    let div = document.querySelector(\".result\");\r\n    let container = document.createElement(\"a\");\r\n    let span1 = document.createElement(\"span\");\r\n    let span2 = document.createElement(\"span\");\r\n    let span3 = document.createElement(\"span\");\r\n    span1.innerHTML = \"Короткая ссылка -  \";\r\n    container.setAttribute(\"href\", this.inp.value);\r\n    container.innerHTML = data;\r\n    span2.innerHTML = \" Оригинальная ссылка: \";\r\n    span3.innerHTML = `${this.inp.value} <br>`;\r\n    div.appendChild(span1);\r\n    div.appendChild(container);\r\n    div.appendChild(span2);\r\n    div.appendChild(span3);\r\n    this.inp.value = \"\";\r\n  }\r\n}\r\n"],"sourceRoot":""}